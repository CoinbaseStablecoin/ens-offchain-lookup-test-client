# ens-offchain-lookup-test-client

## Usage

```shell
$ yarn install
$ yarn typechain
$ JSON_RPC_URL="https://..." REGISTRY_ADDRESS="0x...." ts-node src/client.ts "pete.cbdev.eth"
Looking up pete.cbdev.eth...
Finding resolver contract address for pete.cbdev.eth...not found
Finding resolver contract address for cbdev.eth...found - 0x1Fc0719d4E60D68306a8FEF043029b75D1078874
Calling "resolve" on the resolver contract...
OffchainLookup received: ["0x1Fc0719d4E60D68306a8FEF043029b75D1078874",["http://localhost:3000/r/{sender}/{data}"],"0x9061b923000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000010047065746505636264657603657468000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000243b3b57dedf3c00aa5b3bc7d88848f2d8b2e81b44568930855876719d3d256e1615fddc0500000000000000000000000000000000000000000000000000000000","0xf4d4d2f8","0x9061b923000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000010047065746505636264657603657468000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000243b3b57dedf3c00aa5b3bc7d88848f2d8b2e81b44568930855876719d3d256e1615fddc0500000000000000000000000000000000000000000000000000000000"]
Requesting GET http://localhost:3000/r/0x1Fc0719d4E60D68306a8FEF043029b75D1078874/0x9061b923000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000010047065746505636264657603657468000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000243b3b57dedf3c00aa5b3bc7d88848f2d8b2e81b44568930855876719d3d256e1615fddc0500000000000000000000000000000000000000000000000000000000...
Response received: {"data":"0x00000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000062329d7200000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000011111111111111111111111111111111111111110000000000000000000000000000000000000000000000000000000000000041a5ecc5bca07e3e3cd13a02df0613e90756a0a362409efe9104f9e3ce22f2354a2c2fe50d2f59e45cff4ee36fb71c286581a23229f3575fa2866e9f599ce02bd01c00000000000000000000000000000000000000000000000000000000000000"}
Decoded result: 0x1111111111111111111111111111111111111111
Signature: 0xa5ecc5bca07e3e3cd13a02df0613e90756a0a362409efe9104f9e3ce22f2354a2c2fe50d2f59e45cff4ee36fb71c286581a23229f3575fa2866e9f599ce02bd01c
Expires at: Wed Mar 16 2022 21:31:14 GMT-0500 (Central Daylight Time) (1647484274)
Verifying the response with the resolver contract...verified!
Verified result: 0x1111111111111111111111111111111111111111
```
